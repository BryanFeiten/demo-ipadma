<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cal√ßados</title>
    <style>

        * {
            font-family: Arial, Helvetica, sans-serif;
            padding: 0;
            margin: 0;
        }

        #header {
            display: flex;
            margin: 5px;
            justify-content: space-evenly;
            align-items: center;
        }

        .logo {
            width: 30%;
            height: 30%;
        }

        .container {
            margin: auto;
            width: 90%;
        }

        #shoes {
            display: flex;
            flex-wrap: wrap;
        }

        .item {
            /* border: 5px solid black; */
            width: 350px;
            height: 350px;
            text-align: center;
            box-shadow: 9px 7px 5px rgba(50, 50, 50, 0.35);
        }

        .image {
            padding: 20px 20px 5px 20px;
            height: 275px;
            width: 300px;
            object-fit: cover;
        }


    </style>
</head>
<body>
    <div id="header">
        <img class="logo" src="./logo/logo.png">
        <div>
            <input id="filter" type="search">
            <button id="key"> Search</button>
        </div>
    </div>
    <div class="container">
        <div id="shoes">

        </div>
    </div>

    <script>

        var storage = document.getElementById('shoes');
        var add = [];
        var f = document.getElementById("filter"); 
        var search = document.getElementById("key");

        function adicionarPasta() {
            fetch('./data')
                .then(res => res.json())
                .then(shoes => {
                    storage.innerHTML = ''
                    shoes.map(pair => {
                        var pairName = pair.nome;
                        var shoeRef = "[" + pairName.slice(0,7) + "]";
                        pairName = pairName.substring(8,pairName.lenght);
                        var shoeName = pairName.replace(".jpeg", '');
                        var onde = pair.caminho;
                        var shoeCaminho = onde.replace("public", '');
                        add.push({
                            material    : shoeName,
                            referencia  : shoeRef,
                            caminho     : onde
                        });
                        storage.innerHTML += `
                        <div class="item">
                            <img class="image" src="${shoeCaminho}">
                            <p>${shoeName}</p>
                            <p>${shoeRef}</p>
                        </div>`

                    })
                    console.log(add[0].material)
            })
        }

        adicionarPasta()

        search.addEventListener('click', function() {
            var filter = JSON.stringify(f.value.toLowerCase());
            console.log(filter)
        })


    </script>

</body>
</html>